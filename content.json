{"meta":{"title":"Menghuan Blog","subtitle":"Menghuan Blog","description":"web java python","author":"Menghuan","url":"http://example.com","root":"/"},"pages":[{"title":"404","date":"2022-02-26T14:30:24.000Z","updated":"2022-02-26T14:30:24.206Z","comments":true,"path":"404/index.html","permalink":"http://example.com/404/index.html","excerpt":"","text":""},{"title":"search","date":"2022-02-26T14:30:20.000Z","updated":"2022-02-26T14:30:20.739Z","comments":true,"path":"search/index.html","permalink":"http://example.com/search/index.html","excerpt":"","text":""},{"title":"文章分类","date":"2022-02-27T05:43:54.000Z","updated":"2022-02-27T05:44:26.256Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2022-02-27T05:44:44.000Z","updated":"2022-02-27T05:44:55.316Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"uniapp的安卓app打包(本地离线)","slug":"uniapp的安卓app打包(本地离线)","date":"2022-02-27T05:47:00.000Z","updated":"2022-02-27T05:50:04.016Z","comments":true,"path":"2022/02/27/uniapp的安卓app打包(本地离线)/","link":"","permalink":"http://example.com/2022/02/27/uniapp%E7%9A%84%E5%AE%89%E5%8D%93app%E6%89%93%E5%8C%85(%E6%9C%AC%E5%9C%B0%E7%A6%BB%E7%BA%BF)/","excerpt":"","text":"建立项目 下载 HBuilderX，登录 dclould账号(必须) 新建项目 本地打包打包后的文件回到 上两层目录待会需要复制整个 __UNI__354F6F0 目录 生成离线打包 Key具体方法: https://ask.dcloud.net.cn/art.. 生成证书安装 JDK后输入以下命令 命令格式: keytool -genkey -alias 证书别名 -keyalg RSA -keysize 2048 -validity 证书的有效期 -keystore 证书文件名 注意: 输入上述命令后的第一个输入时密码，这个密码是证书的密码，必须记录，假设这里的密码是”leonardpwd”再输入一连串信息后他会问你是否正确，此时需要手动输入 “是” 1keytool -genkey -alias leonard-app -keyalg RSA -keysize 2048 -validity 36500 -keystore leonard-app.keystore 查看证书12keytool -list -v -keystore leonard-app.keystoreEnter keystore password: //输入密码,我的是上面设置的&quot;leonardpwd&quot;，回车 显示的信息类似下方文本，其中 证书指纹 的 SHA1 待会需要使用 12345678910111213141516171819202122232425262728293031输入密钥库口令:密钥库类型: PKCS12密钥库提供方: SUN您的密钥库包含 1 个条目别名: leonard-app创建日期: 2021年5月31日条目类型: PrivateKeyEntry证书链长度: 1证书[1]:所有者: CN=Unknown, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown发布者: CN=Unknown, OU=Unknown, O=Unknown, L=Unknown, ST=Unknown, C=Unknown序列号: a2ac5fd0886b0130生效时间: Mon May 31 10:51:26 CST 2021, 失效时间: Wed May 07 10:51:26 CST 2121证书指纹: SHA1: 99:23:00:18:40:20:D1:F3:41:D5:70:6D:38:94:56:58:68:C3:1E:33 SHA256: 8F:17:A9:63:3A:34:26:15:1C:6F:B8:30:D7:A4:59:42:99:F8:04:60:86:84:4C:83:B3:1E:C4:2E:F3:AA:EB:07签名算法名称: SHA256withRSA主体公共密钥算法: 2048 位 RSA 密钥版本: 3扩展:#1: ObjectId: 2.5.29.14 Criticality=falseSubjectKeyIdentifier [KeyIdentifier [0000: 88 41 F4 2F A9 C5 F4 68 86 D7 6E E9 D5 3D A9 F1 .A./...h..n..=..0010: A2 DF 3B 89 ..;.]] 设置 Key打开 DCloud 开发者中心，并点击我们的项目点击 “离线打包 Key 管理”，并填写相关信息这就是我们的 AppKey 安卓相关配置文件位置: https://nativesupport.dcloud.... 安装 Android Studio 下载好 App 离线SDK 下载后，解压缩得到 复制 HBuilder-HelloUniApp 文件夹到一个地方存储 导入项目打开 Android Studio, 打开已经存在的项目( Open an Existing Project ) 注意，第一次打开可能需要等待很长时间，Android Studio正在导入相关文件 项目配置删除项目原本文件点击显示详细目录删除项目自带示例文件夹 复制项目再本文章节”本地打包”中已经打包完成，复制以下整个文件夹粘贴到 apps文件夹中最终效果 设置 APPID打开 manifest.json ，复制 id打开 data&#x2F;dcloud_control.xml , 粘贴替换为刚才复制的 id 设置 AppKey网页打开 DCloud开发者中心，进入项目，点击 “离线打包Key管理”，复制 Android 的 App Key粘贴到 manifests&#x2F;AndroidManifest.xml 中的 meta-data 节点 (该节点一般再文件最底部) 设置证书 打开build.gradle 文件(注意不是上面那个，可以按照文件名后面括号的字区分) 再 signingConfigs -&gt; config 内部填写相关信息1234keyAlias &#x27;证书别名&#x27;keyPassword &#x27;证书密码&#x27;storeFile file(&#x27;证书路径，注意双斜杠&#x27;)storePassword &#x27;证书密码&#x27; 点击右上角 “Sync Now” 修改 applicationId build.gradle -&gt; manifestPlaceholders -&gt; apk.applicationId我的是 com.leonard.app AndroidManifest.xmlpackage内的值和 build.gradle 文件中的值一样 修改 provider打开 AndroidManifest.xml，查找 android:authorities ， 修改值为 xxx.xxx.xxx.fileprovider 此处我修改为 com.leonard.app.fileprovider 打包 APKBuild -&gt; Build Bundle(s) &#x2F; APK(s) -&gt; Build APK(s)打包完成后，右下角会出现提示，点击 locate 即可找到 APK文件打开安卓手机，安装该 apk 查看即可 2022&#x2F;2&#x2F;27APK 打包失败Algorithm HmacPBESHA256 not availableAndroid studio 2021.1.1 版本默认 JDK 11.0.1 版本，而HmacPBESHA256 是 JDK12 才开始支持，可以把它升级为 JDK12 或 JDK13在 File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle选择改变 Gradle JDK, Download JDK, 选择 JDK13 资料参考uniapp的安卓app打包(本地离线 END","categories":[{"name":"web前端","slug":"web前端","permalink":"http://example.com/categories/web%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"uniapp","slug":"uniapp","permalink":"http://example.com/tags/uniapp/"},{"name":"Android","slug":"Android","permalink":"http://example.com/tags/Android/"},{"name":"apk打包","slug":"apk打包","permalink":"http://example.com/tags/apk%E6%89%93%E5%8C%85/"}]},{"title":"Hello World","slug":"hello-world","date":"2022-02-26T14:10:54.769Z","updated":"2022-02-26T14:10:54.769Z","comments":true,"path":"2022/02/26/hello-world/","link":"","permalink":"http://example.com/2022/02/26/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"web前端","slug":"web前端","permalink":"http://example.com/categories/web%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"uniapp","slug":"uniapp","permalink":"http://example.com/tags/uniapp/"},{"name":"Android","slug":"Android","permalink":"http://example.com/tags/Android/"},{"name":"apk打包","slug":"apk打包","permalink":"http://example.com/tags/apk%E6%89%93%E5%8C%85/"}]}